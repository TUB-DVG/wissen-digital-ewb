{% extends 'base.html' %}
{% block title %}Überblick über die Publikationen {% endblock %}
{% block content %}
{% load static %}
<!DOCTYPE html>

</head>

<body>

<!-- **************** MAIN CONTENT START **************** -->
<main>

<!-- =======================
Page Banner START -->
<section class="py-4">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="p-2 text-left rounded-3">
          <h2 class="m-0">Überblick über die Publikationen</h2>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- =======================
Page Banner END -->


{% include './publications-explanation.html' %}


<!-- =======================
Page content START -->
<section class="pt-0">
  <div class="container {{ focusBorder }}-cards" id="publicationsContainer">
    <!-- Filter bar START -->
    <form class="border-{{ focusBorder }} p-4 my-4 z-index-9 position-relative" id="searchBox">
      <div class="row g-3">
        <!-- Input -->
        <div class="col-xl-3" title="Suchen in den ">
          <input id="search-input-publication"
                 class="form-control me-1 border-{{ focusBorder }}"
                 type="search" placeholder="Suchbegriff"
                 name='searched'>
        </div>
        <!-- Select item -->
        <div class="col-xl-7">
          <form  method="GET">
            <div class="row g-3">
              <!-- Select items -->
              <div class="form-group col-sm-6 col-md-3 pb-lg-2 pb-md-0 mb-0">
                <select class="form-select js-choice border-{{ focusBorder }}-round" aria-label=".form-select-sm example"
                        name="fo" id="name-input-publication"
                        title="Filtern nach dem Fokus des Publikationens">
                  <option value="" disabled selected>
                    Fokus
                  </option>
                  {% for option in focus_options %}
                      <option  value="{{ option.id }}" {% if focus == option.id|stringformat:"s" %} selected="selected" {% endif %}>
                          {{ option.focus }}
                      </option>
                  {% endfor %}
                </select>
              </div>
            </div>
          </form>
        </div>
        <!-- search Button -->
        <div class="col-xl-1">
          <button type="submit"
                  class="btn btn-{{ focusBorder }} mb-0 rounded z-index-1 w-100"
                  id="search-submit-publication" href="">
            <i class="fas fa-search">
            </i>
          </button>
        </div>
        <!-- Clear Button -->
        <div class="col-xl-1">
          <a href="{% url 'publicationPage' %}">
            <h6 class="btn btn-{{ focusBorder }} mb-0 rounded z-index-1 w-100" id="allButton">
              Alle
            </h6>
          </a>
        </div>
      </div>
    </form>
    <!-- Filter bar END -->
    <!-- search tags START -->
    <ul class="list-inline mb-0">
      {% if search %}
      <li class="list-inline-item">
        <div class="btn btn-outline-light btn-sm">
          <a href="{%url 'publicationPage' %}?searched={{search}}">
            Suchbegriff: {{search}}
          </a>
          <a href="{%url 'publicationPage' %}?searched=&fo={% if focus %}{{focus}}{% endif %}">
            <i class="bi bi-x fa-lg close-icon"></i>
          </a>
        </div>
      </li>
      {% endif %}
      {% if focus %}
      <li class="list-inline-item">
        <div class="btn btn-outline-light btn-sm">
          <a href="{%url 'publicationPage' %}?searched=&fo={{focus}}">
            {% for option in focus_options %}
              {% if focus == option.id|stringformat:"s" %}
                {{ option.focus }}
              {% endif %}
            {% endfor %}
          </a>
          <a href="{%url 'publicationPage' %}?searched={% if search %}{{search}}{% endif %}&fo=">
            <i class="bi bi-x fa-lg close-icon"></i>
          </a>
        </div>
      </li>
      {% endif %}
    </ul>
    <!-- search tags END -->
    <!-- publications grid row START -->
    <div class="row mt-3">
      <!-- Main content START -->
      <div class="col-12">

        <!-- Course Grid START -->
        <div class="row g-4" id="publications-listing-results">
          {% include './publications-results.html' %}
        </div>
        <!-- standards grid END -->
        <!-- Pagination START -->
        <div class="pagination">
          <span class="step-links">
            {% if page.has_previous %}
            <a  href="{%url 'publicationPage' %}?searched={% if search %}{{search}}{% endif %}&fo={% if focus %}{{focus}}{% endif %}&page=1">
              &laquo; erste
            </a>
            &nbsp &nbsp
            <a href="{%url 'publicationPage' %}?searched={% if search %}{{search}}{% endif %}&fo={% if focus %}{{focus}}{% endif %}&page={{ page.previous_page_number}}">
              vorherige
            </a>
            {% endif %}
            &nbsp &nbsp
            <span class="current">
              Seite {{ page.number }} von {{ page.paginator.num_pages }}
            </span>
            &nbsp &nbsp
            {% if page.has_next %}
            <a href="{%url 'publicationPage' %}?searched={% if search %}{{search}}{% endif %}&fo={% if focus %}{{focus}}{% endif %}&page={{ page.next_page_number}}">
              nächste
            </a>
            &nbsp &nbsp
            <a href="{%url 'publicationPage' %}?searched={% if search %}{{search}}{% endif %}&fo={% if focus %}{{focus}}{% endif %}&page={{ page.paginator.num_pages}}">
              letzte &raquo;
            </a>
            &nbsp &nbsp
            {% endif %}
          </span>
        </div>
        <!-- Pagination END -->
      </div>
      <!-- Main content END -->
    </div><!-- Row END -->
  </div>
</section>
<!-- =======================
     Page content END -->
</main>
<!-- **************** MAIN CONTENT END **************** -->


{% endblock %}
